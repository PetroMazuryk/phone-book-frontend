import{j as e,u as N,s as c,i as w,L as E,C as x,o as k,t as W,a as A,b as o,c as P,d as D,e as G,r as g,f as R,g as i,h as q,k as z,l as I,m as b,n as $,p as M}from"./index-f63432c2.js";const O="_wrapper_1e5wq_1",U="_text_1e5wq_8",_={wrapper:O,text:U},H=({contacts:t})=>{const r=t.reduce((s,a)=>(a.favorite&&(s.favorite+=1),a.priority&&(s.priority+=1),s),{priority:0,favorite:0});return e.jsxs("div",{className:_.wrapper,children:[e.jsxs("p",{className:_.text,children:["Total: ",t.length]}),e.jsxs("p",{className:_.text,children:["Priority: ",r.priority]}),e.jsxs("p",{className:_.text,children:["Favorite: ",r.favorite]})]})},J=({id:t,name:r,phone:s,favorite:a,priority:l})=>{const p=N(),m=()=>{p(W({id:t,favorite:!a}))},u=()=>{p(A({id:t,priority:!l}))};return e.jsxs("div",{className:c.cardContainer,children:[e.jsxs("div",{className:c.iconsWrapper,children:[e.jsx("button",{onClick:m,type:"button","aria-label":"Toggle favorite",children:e.jsx("svg",{className:`${c.like} ${a?c.likeActive:""}`,children:e.jsx("use",{href:`${w}#icon-heart`})})}),e.jsx("button",{onClick:u,type:"button","aria-label":"Toggle checkbox",children:e.jsx("svg",{className:`${c.checkbox} ${l?c.checked:""}`,children:e.jsx("use",{href:`${w}#icon-checkbox`})})})]}),e.jsxs(E,{to:`/contacts/${t}`,className:c.cardInfoWrapper,children:[e.jsx("div",{className:c.cardTitle,children:r}),e.jsx("div",{className:c.cardInfo,children:s})]}),e.jsxs("div",{className:c.cardActions,children:[e.jsx(x,{onClick:()=>p(k({type:"edit",props:{id:t}})),variant:"primary",children:"Edit"}),e.jsx(x,{variant:"secondary",onClick:()=>p(k({type:"confirmDelete",props:{id:t,name:r,phone:s}})),children:"Delete"})]})]})},T=t=>t.filters.status,B=t=>t.filters.name,L=t=>t.filters.phone,K="_cardsGrid_1tzp1_1",F={cardsGrid:K},Q=()=>{const t=N(),r=o(P),s=o(D),a=o(G),l=o(T),p=o(B),m=o(L);g.useEffect(()=>{t(R())},[t]);const u=n=>n.replace(/[\s\-()]/g,""),y=r.filter(n=>{const j=n.name.toLowerCase().includes(p.toLowerCase()),v=u(n.phone).includes(u(m)),h=l===i.total||l===i.favorite&&n.favorite||l===i.priority&&n.priority;return j&&v&&h});return s?e.jsx("p",{children:"Loading..."}):a?e.jsxs("p",{children:["Error: ",a]}):y.length===0?e.jsx("p",{className:F.empty,children:"The list is empty."}):e.jsx("div",{className:F.cardsGrid,children:y.map(n=>e.jsx(J,{...n},n.id))})},V="_text_1yjp7_1",X="_primary_1yjp7_7",Y="_secondary_1yjp7_11",Z="_error_1yjp7_15",S={text:V,primary:X,secondary:Y,error:Z},ee=({children:t,variant:r="primary",className:s=""})=>e.jsx("span",{className:`${S.text} ${S[r]} ${s}`,children:t}),te="_wrapper_1k2vx_1",se="_title_1k2vx_8",re="_buttons_1k2vx_14",ae="_primary_1k2vx_21",f={wrapper:te,title:se,buttons:re,primary:ae},ne=()=>{const t=q(),r=z(a=>a.filters.status),s=a=>{t(I(a))};return e.jsxs("div",{className:f.wrapper,children:[e.jsx("h2",{className:f.title,children:"Filter by status"}),e.jsxs("div",{className:f.buttons,children:[e.jsx(x,{selected:r===i.total,onClick:()=>s(i.total),style:{width:64,whiteSpace:"nowrap"},children:"Total"}),e.jsx(x,{selected:r===i.favorite,onClick:()=>s(i.favorite),style:{width:64,whiteSpace:"nowrap"},children:"Favorite"}),e.jsx(x,{selected:r===i.priority,onClick:()=>s(i.priority),style:{width:64,whiteSpace:"nowrap"},children:"Priority"})]})]})},ce="_wrapper_vcnih_1",oe="_inputWrapper_vcnih_9",ie="_input_vcnih_9",le="_clearBtn_vcnih_24",d={wrapper:ce,inputWrapper:oe,input:ie,clearBtn:le},pe=()=>{const t=N(),r=o(B),s=o(L),a=o(T),[l,p]=g.useState(!1);g.useEffect(()=>{const h=setTimeout(()=>p(!0),100);return()=>clearTimeout(h)},[]);const m=h=>{t(b(h.target.value))},u=h=>{t($(h.target.value))},y=()=>t(b("")),n=()=>t($("")),j=()=>{t(M())},v=r!==""||s!==""||a!==i.total;return e.jsxs("div",{className:d.wrapper,children:[e.jsxs("div",{className:d.inputWrapper,children:[e.jsx("input",{type:"text",placeholder:"Search by name",value:r,onChange:m,className:d.input,autoComplete:"off"}),r&&e.jsx("button",{type:"button",className:d.clearBtn,onClick:y,children:"×"})]}),e.jsxs("div",{className:d.inputWrapper,children:[e.jsx("input",{type:"text",placeholder:"Search by phone",value:s,onChange:u,className:d.input,autoComplete:"off",readOnly:!l}),s&&e.jsx("button",{type:"button",className:d.clearBtn,onClick:n,children:"×"})]}),v&&e.jsx(x,{variant:"secondary",onClick:j,style:{width:"auto",whiteSpace:"nowrap"},children:"Reset all"})]})},he="_wrapper_r7g8r_1",de="_topBar_r7g8r_8",ue="_line_r7g8r_15",C={wrapper:he,topBar:de,line:ue};function me(){const t=o(P);return e.jsxs("div",{className:C.wrapper,children:[e.jsxs("div",{className:C.topBar,children:[e.jsx(H,{contacts:t}),e.jsx(pe,{}),e.jsx(ne,{}),e.jsx("hr",{className:C.line})]}),e.jsx(ee,{children:"Contact List"}),e.jsx(Q,{})]})}export{me as default};

import{u as j,j as e,i as o,q as _,o as u,v as f,b as x,d as m,e as k,r as v,w as b,L as g}from"./index-46be6328.js";const y="_tableWrapper_hfhhg_1",N="_table_hfhhg_1",C="_iconButton_hfhhg_47",$="_icon_hfhhg_47",a={tableWrapper:y,table:N,iconButton:C,icon:$},W=({calls:c,contactId:i})=>{const l=j(),d=n=>{l(_({contactId:i,callId:n}))},s=n=>{l(u({type:"editCall",props:{contactId:i,callId:n}}))};return c.length===0?e.jsx("p",{style:{textAlign:"center",marginTop:20},children:"No calls"}):e.jsx("div",{className:a.tableWrapper,children:e.jsxs("table",{className:a.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"In/Out"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Duration"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Edit"}),e.jsx("th",{children:"Delete"})]})}),e.jsx("tbody",{children:c.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.date}),e.jsx("td",{children:n.direction}),e.jsx("td",{children:n.time}),e.jsx("td",{children:n.duration}),e.jsx("td",{children:n.description}),e.jsx("td",{children:e.jsx("button",{onClick:()=>s(n.id),className:a.iconButton,children:e.jsx("svg",{className:`${a.icon}`,children:e.jsx("use",{href:`${o}#icon-pencil`})})})}),e.jsx("td",{children:e.jsx("button",{onClick:()=>d(n.id),className:a.iconButton,children:e.jsx("svg",{className:`${a.icon}`,children:e.jsx("use",{href:`${o}#icon-bin`})})})})]},n.id))})]})})},I="_cardContainer_jalyv_1",T="_iconsWrapper_jalyv_17",A="_like_jalyv_23",B="_cardInfoWrapper_jalyv_30",L="_cardTitle_jalyv_43",E="_cardInfo_jalyv_30",w="_checkbox_jalyv_52",D="_checked_jalyv_60",z="_backLink_jalyv_66",P="_arrow_jalyv_85",r={cardContainer:I,iconsWrapper:T,like:A,cardInfoWrapper:B,cardTitle:L,cardInfo:E,checkbox:w,checked:D,backLink:z,arrow:P},F=()=>{const{id:c}=f(),i=j(),l=x(m),d=x(k),s=x(h=>h.contacts.items.find(t=>t.id===c));if(v.useEffect(()=>{c&&!s&&i(b(c))},[i,c,s]),l)return e.jsx("h2",{style:{textAlign:"center",marginTop:100},children:"Loading contact..."});if(d)return e.jsxs("h2",{style:{textAlign:"center",marginTop:100,color:"red"},children:["Error: ",d]});if(!s)return e.jsx("h2",{style:{textAlign:"center",marginTop:100},children:"Contact not found ðŸ˜”"});const p=(h=>Array.isArray(h)?h.map(t=>"result"in t&&t.result?t.result:"id"in t?t:null).filter(Boolean):[])(s.calls||[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:r.cardContainer,children:[e.jsxs("div",{className:r.iconsWrapper,children:[e.jsx("svg",{className:`${r.like} ${s.favorite?r.likeActive:""}`,children:e.jsx("use",{href:`${o}#icon-heart`})}),e.jsx("svg",{className:`${r.checkbox} ${s.priority?r.checked:""}`,children:e.jsx("use",{href:`${o}#icon-checkbox`})})]}),e.jsxs("div",{className:r.cardInfoWrapper,children:[e.jsx("div",{className:r.cardTitle,children:s.name}),e.jsx("div",{className:r.cardInfo,children:s.phone})]}),e.jsx("div",{children:e.jsxs(g,{to:"/contacts",className:r.backLink,children:[e.jsx("svg",{className:`${r.arrow}`,children:e.jsx("use",{href:`${o}#icon-arrow-left`})}),"Back"]})})]}),e.jsx(W,{calls:p,contactId:s.id})]})};export{F as default};
